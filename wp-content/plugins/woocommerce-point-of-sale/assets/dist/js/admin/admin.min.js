"use strict";!function(s,c){var i=c.wc_pos_params,e=(s(".form-table").on("click","#enable_card",function(e){e.preventDefault();e=s(this).prev("input#wc_pos_user_card_number");e.is(":disabled")&&(""===e.val()||c.confirm("Are you sure you want to change the card number?"))&&e.removeAttr("disabled")}),s(".post-type-pos_register .submitdelete").on("click",function(){if(!c.confirm(i.i18n_confirm_delete_register))return!1}),s('.post-type-pos_register .bulkactions input[type="submit"]').on("click",function(){var e=s('.bulkactions select[name="action"]').val();if(("trash"===e||"delete"===e)&&!c.confirm(i.i18n_confirm_delete_registers))return!1}),s("#wc_pos_signature").change(function(){s(this).is(":checked")?(s("#wc_pos_signature_required").closest("tr").show(),s("#wc_pos_signature_required_on").closest("tr").show()):(s("#wc_pos_signature_required").closest("tr").hide(),s("#wc_pos_signature_required_on").closest("tr").hide())}).change(),s("input#wc_pos_day_end_report").change(function(){s(this).is(":checked")?s("#wc_pos_day_end_emails").closest("tr").show():s("#wc_pos_day_end_emails").closest("tr").hide()}).change(),s("input#wc_pos_enable_currency_rounding").change(function(){s(this).is(":checked")?s("#wc_pos_currency_rounding_value").closest("tr").show():s("#wc_pos_currency_rounding_value").closest("tr").hide()}).change(),s("input#wc_pos_show_out_of_stock_products").change(function(){s(this).is(":checked")?s("#wc_pos_allow_scanning_out_of_stock_products").closest("tr").show():s("#wc_pos_allow_scanning_out_of_stock_products").closest("tr").hide()}).change(),s("input#wc_pos_display_coupons").change(function(){s(this).is(":checked")?s("#wc_pos_list_coupons_roles").closest("tr").show():s("#wc_pos_list_coupons_roles").closest("tr").hide()}).change(),s("input#wc_pos_upca_disable_middle_check_digit").change(function(){s(this).is(":checked")?s("#wc_pos_upca_use_middle_check_digit").closest("tr").show():s("#wc_pos_upca_use_middle_check_digit").closest("tr").hide()}).change(),s("input#wc_pos_disable_status_selection").change(function(){s(this).is(":checked")?(s("#wc_pos_fulfilled_order_alternative_status").closest("tr").hide(),s("#wc_pos_parked_order_alternative_status").closest("tr").hide()):(s("#wc_pos_fulfilled_order_alternative_status").closest("tr").show(),s("#wc_pos_parked_order_alternative_status").closest("tr").show())}).change(),jQuery(document).ready(function(){jQuery(".modal-close").on("click",function(e){e.preventDefault()}),jQuery("#wc_pos_user_card_number").on("keyup change",function(e){e=e.target.value;5<e.length&&jQuery.ajax({url:i.ajax_url,async:!0,type:"POST",data:{action:"wc_pos_check_user_card_uniqueness",security:i.check_user_card_uniqueness_nonce,code:e},success:function(e){jQuery("#wc_pos_user_card_number").closest("td").find(".description").html(e.data),!0===e.success?jQuery("#submit").attr("disabled",!1):jQuery("#submit").attr("disabled",!0)}})})}),s(".tips, .help_tip, .woocommerce-help-tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200}),0<s('input[name="products_or_cat"]').length&&(s('input[name="products_or_cat"]').change(function(){"category"==s('input[name="products_or_cat"]:checked').val()?(s("#products_opt_wrap").hide(),s("#category_opt_wrap").show()):(s("#products_opt_wrap").show(),s("#category_opt_wrap").hide())}).trigger("change"),s().select2?s(".category_chosen").css("width","400px").select2():s(".category_chosen").css("width","400px").chosen()),s().select2?(jQuery("select#billing_country").select2(),jQuery("select#shipping_country").select2(),0<jQuery("select#billing_state").length&&jQuery("select#billing_state").select2(),0<jQuery("select#shipping_state").length&&jQuery("select#shipping_state").select2()):(jQuery("select#billing_country").chosen(),jQuery("select#shipping_country").chosen(),0<jQuery("select#billing_state").length&&jQuery("select#billing_state").chosen(),0<jQuery("select#shipping_state").length&&jQuery("select#shipping_state").chosen()),0<s("#wc_pos_tax_calculation").length&&(s(".disabled_select").attr("disabled","disabled"),s("#wc_pos_tax_calculation").change(function(){"disabled"===s(this).val()?s("#wc_pos_calculate_tax_based_on").parent().parent().hide():s("#wc_pos_calculate_tax_based_on").parent().parent().show()}).change()),jQuery("#pos-visibility .edit-pos-visibility").on("click",function(e){e.preventDefault(),jQuery("#pos-visibility #pos-visibility-select").slideDown("fast")}),jQuery("#pos-visibility .save-post-visibility").on("click",function(e){e.preventDefault();e=jQuery('[name="_pos_visibility"]:checked');jQuery("#pos-visibility-display").text(e.data("label")),jQuery("#pos-visibility #pos-visibility-select").slideUp("fast")}),jQuery('.wc-enhanced-select-required-fields option[value="billing_first_name"],.wc-enhanced-select-required-fields option[value="billing_last_name"],.wc-enhanced-select-required-fields option[value="billing_email"]').attr({selected:"selected",disabled:"disabled"}),jQuery(".wc-enhanced-select-with-tags").select2({tags:!0}),jQuery(".wc-enhanced-select-required-fields").select2().on("select2:unselecting",function(e){if(e.params.args.data.disabled)return!1}),jQuery('#wc_pos_search_includes.wc-enhanced-select option[value="title"]').attr({selected:"selected",disabled:"disabled"}),jQuery("#wc_pos_search_includes.wc-enhanced-select").select2().on("select2:unselecting",function(e){if(e.params.args.data.disabled)return!1}),s("#wc_pos_reset_settings").on("click",function(e){c.confirm("This will reset entire POS settings. Please have a backup before doing this")||e.preventDefault()}),s("#wc_pos_customer_create_required_fields")),t=(e.length&&((t=s('<button type="button" class="button reset_fields">Reset</button>')).on("click",function(){e.val(["billing_first_name","billing_last_name","billing_email","billing_country","billing_address_1","billing_city","billing_state","billing_postcode","billing_phone","billing_email"]).change()}),e.parent("td").append(t)),s(".range_slider").on("input",function(){s(this).prev(".range_slider_value").html(s(this).val())}),s("#unit_of_measurement")),t=(s.each(t,function(){var e=s(this).parents("p");s(this).is(":checked")||e.nextAll("p").hide(),s(this).on("change",function(){s(this).is(":checked")?e.nextAll("p").show():e.nextAll("p").hide()})}),s("#paymentsense_eod_report").on("click",function(){var t=s("#wpcontent");t.find("#sale_report_overlay").remove(),t.block({message:null,opacity:.6}),s.ajax({url:c.ajaxurl,data:{register:s("#post_ID").val(),action:"wc_pos_paymentsense_eod_report",security:i.paymentsense_eod_report_nonce,terminal_id:s("#paymentsense_terminal").val()},type:"POST",success:function(e){e.data&&t.append(s(e.data))},error:function(e){e.responseJSON?c.alert(e.responseJSON.data.message):c.alert(e.statusText)},complete:function(){t.unblock()}})}),s("#wpcontent").on("click",".close_popup, .back_to_sale",function(){s(".overlay_order_popup").hide()}),document.querySelector("body"));new MutationObserver(function(){var e=s("#TB_ajaxContent .TB_actions").hide().clone();e&&!document.querySelector("#TB_window > .TB_actions")&&(e.show(),s("#TB_window").append(e))}).observe(t,{childList:!0})}(jQuery,window,document);