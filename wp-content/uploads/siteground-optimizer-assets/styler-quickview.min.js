'use strict';var styler_ids=[],styler_products=[];(function(a){jQuery(document).ready(function(a){a('.styler-quickview-btn').each(function(){var b=a(this).data('id');-1===a.inArray(b,styler_ids)&&(styler_ids.push(b),styler_products.push({src:styler_vars.ajax_url+'?product_id='+b}))})});function c(b,c,d){for(var a=0;a<b.length;a++)if(b[a][c]===d)return a;return-1}jQuery(document).on('decoratyShopInit',function(){a('.styler-quickview-btn').each(function(){var b=a(this).data('id');-1===a.inArray(b,styler_ids)&&(styler_ids.push(b),styler_products.push({src:styler_vars.ajax_url+'?product_id='+b}))}),b(styler_products)}),jQuery(document).on('styler_quick_init',function(){a('.styler-quickview-btn').each(function(){var b=a(this).data('id');-1===a.inArray(b,styler_ids)&&(styler_ids.push(b),styler_products.push({src:styler_vars.ajax_url+'?product_id='+b}))}),b(styler_products)}),b(styler_products);function b(b){a(document).on('click touch','.styler-quickview-btn',function(i){var d,e,g,f,h;i.preventDefault(),d=a(this),e=d.data('id'),g=d.parents('.styler-loop-product').find('.ninetheme-quick-shop-btn'),f=!1,h=c(b,'src',styler_vars.ajax_url+'?product_id='+e),jQuery.magnificPopup.open({items:b,type:'ajax',mainClass:'mfp-styler-quickview styler-mfp-slide-bottom',removalDelay:160,overflowY:'scroll',fixedContentPos:!0,closeBtnInside:!0,tClose:'',closeMarkup:'<div class="mfp-close styler-panel-close-button"></div>',tLoading:'<span class="loading-wrapper"><span class="ajax-loading"></span></span>',gallery:{tPrev:'',tNext:'',enabled:!0},ajax:{settings:{type:'GET',data:{action:'styler_quickview'}}},callbacks:{beforeOpen:function(){},open:function(){a('.mfp-preloader').addClass('loading')},ajaxContentAdded:function(){var b,c,d;a('.mfp-preloader').removeClass('loading'),b=a('.styler-quickview-product-details').find('.variations_form'),b.each(function(){a(this).wc_variation_form()}),a('body').trigger('styler_lazy_load'),jQuery('.ajax_add_to_cart').on('click',function(){setTimeout(function(){a.magnificPopup.close()},500)}),a('.template-add-to-cart .ninetheme-quick-shop-btn').on('click',function(b){b.preventDefault(),a.magnificPopup.close(),f=!0}),a('.styler-quickview-main img').length>1&&(c=new NTSwiper('.styler-quickview-thumbnails',{loop:!1,watchOverflow:!1,speed:1e3,spaceBetween:10,slidesPerView:4,navigation:{nextEl:'.styler-quickview-main .swiper-button-next',prevEl:'.styler-quickview-main .swiper-button-prev'}}),d=new NTSwiper('.styler-quickview-main',{loop:!1,speed:1e3,slidesPerView:1,spaceBetween:0,observer:!0,rewind:!0,navigation:{nextEl:'.styler-quickview-main .swiper-button-next',prevEl:'.styler-quickview-main .swiper-button-prev'},thumbs:{swiper:c}}))},close:function(){},afterClose:function(){g.length>0&&f==!0&&a('.styler-loop-product .ninetheme-quick-shop-btn[data-product_id="'+e+'"]').off('click').trigger('click')}}},h)})}})(jQuery)