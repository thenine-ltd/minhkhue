"use strict";(function(g,b,a){f('styler_wishlist_key')==''&&e('styler_wishlist_key',d(),7);function d(){for(var a=[],b='ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789',d=b.length,c=0;c<6;c++)a.push(b.charAt(Math.floor(Math.random()*d)));return a.join('')}function e(c,d,e){var a=new Date,f;a.setTime(a.getTime()+e*24*60*60*1e3),f='expires='+a.toUTCString(),b.cookie=c+'='+d+'; '+f+'; path=/'}function f(f){for(var d=f+'=',e=b.cookie.split(';'),c=0,a;c<e.length;c++){for(a=e[c];a.charAt(0)==' ';)a=a.substring(1);if(a.indexOf(d)==0)return decodeURIComponent(a.substring(d.length,a.length))}return''}if(a(b.body).on('click touch','.styler-wishlist-btn',function(e){var b=a(this),f=b.attr('data-id'),d=a('[data-wishlist-count]').attr('data-wishlist-count'),c,g;if(typeof wishlist_vars!='undefined'&&wishlist_vars.products){if(c=wishlist_vars.max_count,wishlist_vars.is_login=='yes'){alert(wishlist_vars.login_mesage);return}if(c!=''&&(d==c||d>c)){alert(wishlist_vars.max_message);return}}g={action:'styler_wishlist_add',product_id:f,beforeSend:function(){b.parent().append('<span class="loading-wrapper"><span class="ajax-loading"></span></span>').addClass('loading')}},a.post(wishlist_vars.ajax_url,g,function(c){c=JSON.parse(c),typeof wishlist_vars!='undefined'&&wishlist_vars.btn_action=='message'?(a('.styler-wishlist-count').html(c.count),a('[data-wishlist-count]').attr('data-wishlist-count',c.count),a('.styler-shop-popup-notices .woocommerce-notices-wrapper').html(c.notice),a('.styler-shop-popup-notices').addClass('wishlist-message active'),setTimeout(function(){a('.styler-shop-popup-notices').removeClass('wishlist-message active')},3e3)):(a('.styler-wishlist-count').html(c.count),a('[data-wishlist-count]').attr('data-wishlist-count',c.count),a('.panel-content-item').removeClass('active'),a('.styler-side-panel').addClass('active'),a('.wishlist-content').parent().addClass('active'),a('.styler-wishlist-content-items').html(c.value),a('.styler-wishlist-content-notice').html(c.notice),a('body').trigger('styler_lazy_load'),a('body').addClass('styler-overlay-open'),setTimeout(function(){a('.styler-wishlist-content-notice .styler-small-title').fadeOut('fast')},3e3)),b.addClass('added'),setTimeout(function(){b.parent().removeClass('loading'),b.parent().find('.loading-wrapper').remove()},1e3)}),e.preventDefault()}),a(b).on('click touch','.clear-all-wishlist',function(b){a('.styler-panel-content-items .styler-content-item').each(function(){var b=a(this).data('id');a(this).remove(),a('.styler-wishlist-btn[data-id="'+b+'"]').removeClass('added')});var c={action:'styler_wishlist_clear'};a.post(wishlist_vars.ajax_url,c,function(b){b=JSON.parse(b),b.notice_type=='empty'&&(a('.styler-wishlist-content-notice').html(b.notice),a('.styler-wishlist-count').html('0'),a('[data-wishlist-count]').attr('data-wishlist-count','0')),wishlist_vars.wishlist_page=='yes'&&a('.wishlist-all-items').html(b.notice)}),b.preventDefault()}),a(b).on('click touch','.styler-wishlist-del-icon',function(e){var c=a(this),d=c.parents('.styler-content-item').attr('data-id'),f={action:'styler_wishlist_remove',product_id:d,beforeSend:function(){c.parent().append('<span class="loading-wrapper"><span class="ajax-loading"></span></span>').addClass('loading')}};a.post(wishlist_vars.ajax_url,f,function(e){var f,g;a('.styler-wishlist-item[data-id="'+d+'"]').remove(),e=JSON.parse(e),f=e.count,e.status==1?(c.parent().removeClass('loading'),c.parent().find('.loading-wrapper').remove(),a('body').trigger('styler_lazy_load'),e.notice!=null&&a('.styler-wishlist-content-notice').html(e.notice),e.notice_type!=='empty'&&(setTimeout(function(){a('.styler-wishlist-content-notice .styler-small-title').fadeOut('fast')},3e3),a('.wishlist-page-link').slideDown('slow')),e.notice_type==='empty'&&wishlist_vars.wishlist_page=='yes'&&(g='<div class="styler-panel-content-notice styler-empty-content">'+e.notice+'</div>',a('.wishlist-all-items').addClass('content-empty').html(g))):(a('.styler-wishlist-content-items .loading-wrapper').remove(),e.notice!=null&&a('.styler-wishlist-content-notice').html(e.notice)),a('.styler-wishlist-count').html(e.count),a('[data-wishlist-count]').attr('data-wishlist-count',e.count),wishlist_vars.count=e.count,e.count!=null&&a(b.body).trigger('styler_wishlist_count',[f]),a('.styler-wishlist-btn[data-id="'+d+'"]').removeClass('added')}),e.preventDefault()}),a('.styler-wishlist-count').html(wishlist_vars.count),a('[data-wishlist-count]').attr('data-wishlist-count',wishlist_vars.count),a(b.body).on('styler_wishlist_count',function(b){a('.styler-wishlist-count').html(wishlist_vars.count),a('[data-wishlist-count]').attr('data-wishlist-count',wishlist_vars.count)}),typeof wishlist_vars!='undefined'&&wishlist_vars.products){var c=wishlist_vars.products;for(let b=0;b<c.length;b++)a('.styler-wishlist-btn[data-id="'+c[b]+'"]').addClass('added')}a(b).on('click touch','#styler-wishlist_copy_url, #styler-wishlist_copy_btn',function(a){a.preventDefault(),h('#styler-wishlist_copy_url')});function h(a){var e,f,c,d;a=typeof a=='string'?b.querySelector(a):a,navigator.userAgent.match(/ipad|ipod|iphone/i)?(e=a.contentEditable,f=a.readOnly,a.contentEditable=!0,a.readOnly=!0,c=b.createRange(),c.selectNodeContents(a),d=g.getSelection(),d.removeAllRanges(),d.addRange(c),a.setSelectionRange(0,999999),a.contentEditable=e,a.readOnly=f):a.select(),b.execCommand('copy'),alert(styler_vars.copied_text+' '+a.value)}})(window,document,jQuery)